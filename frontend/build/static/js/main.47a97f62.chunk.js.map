{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ConfirmPopup.js","images/Union.svg","images/Union-1.svg","components/InfoTooltip.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","index.js"],"names":["Header","loggedIn","onSignOut","userData","loginState","email","className","src","logo","alt","onClick","to","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddCard","cards","clickImages","avatar","about","map","Footer","date","Date","getFullYear","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","token","fetch","method","Accept","Authorization","then","_responseResult","body","JSON","stringify","cardId","process","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","children","submitText","id","noValidate","AddPlacePopup","onAddPlace","useState","setName","setLink","useEffect","e","preventDefault","placeholder","minLength","maxLength","onChange","target","value","required","EditProfilePopup","onUpdateUser","description","setDescription","EditAvatarPopup","onUpdateAvatar","setAvatar","ConfirmPopup","onDelete","InfoTooltip","successStyle","errorImg","backgroundImage","union","successImg","icon","style","Login","onLogin","onLoginState","setEmail","password","setPassword","history","useHistory","push","catch","err","Error","autoComplete","Register","onRegister","ProtectedRoute","Component","component","BASE_URL","App","setLoggedIn","setLoginState","isTooltipOpen","setIsTooltipOpen","setUserData","successToolTip","setSuccessToolTip","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","cardDelete","setCardDelete","isCardSelected","setIsCardSelected","setCurrentUser","setCards","dataImage","setDataImage","handleCardClick","handleTooltipOpen","handleSuccessToolTip","handleLoginState","state","closeAllPopups","tokenCheck","jwt","localStorage","getItem","data","removeItem","all","getUserData","getInitialCards","user","Provider","exact","path","changeLikeCard","newCard","newCards","c","auth","setTimeout","openToolTip","setItem","updateUserData","result","addNewCard","updateAvatar","deleteCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47a97f62.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ loggedIn, onSignOut, userData, loginState }) {\n  const email = userData ? userData.email : \"\";\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"лого\" className=\"header__logo\" />\n      {loggedIn ? (\n        <>\n          <nav className=\"header__nav\">\n            <ul className=\"header__list header__list-main\">\n              <li className=\"header__list-item\">{email}</li>\n              <li onClick={onSignOut} className=\"header__list-link\">\n                Выйти\n              </li>\n            </ul>\n          </nav>\n        </>\n      ) : (\n        <Link\n          to={loginState ? \"/sign-in\" : \"/sign-up\"}\n          className=\"header__list-link\"\n        >\n          {loginState ? \"Войти\" : \"Регистрация\"}\n        </Link>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner === currentUser._id;\n\n  const cardDeleteButtonClassName = `${\n    isOwn ? \"card__trash card__trash_active\" : \"card__trash\"\n  }`;\n\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n\n  const cardLikeButtonClassName = `card__like ${\n    isLiked ? \"card__like_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  return (\n    <>\n      <li className=\"card\" key={props.card._id}>\n        <button\n          onClick={handleDeleteClick}\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n        />\n        <img\n          className=\"card__images\"\n          onClick={handleClick}\n          src={props.card.link}\n          alt={props.card.name}\n        />\n        <div className=\"card__item\">\n          <h2 className=\"card__title\">{props.card.name}</h2>\n          <div className=\"card__wrap\">\n            <button\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n              type=\"button\"\n            ></button>\n            <div className=\"card__count\">{props.card.likes.length}</div>\n          </div>\n        </div>\n      </li>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddCard,\n  cards,\n  clickImages,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__item\">\n          <div className=\"profile__item-container\">\n            <img\n              onClick={onEditAvatar}\n              src={currentUser.avatar}\n              alt=\"Фото профиля\"\n              className=\"profile__avatar\"\n            />\n          </div>\n          <div className=\"profile_text\">\n            <div className=\"profile__info\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"profile__edit-button\"\n                onClick={onEditProfile}\n                type=\"button\"\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={onAddCard}\n          type=\"button\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={clickImages}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  const date = new Date().getFullYear();\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {date} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _responseResult(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._responseResult);\n  }\n\n  getUserData(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._responseResult);\n  }\n\n  addNewCard(name, link, token) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  deleteCard(cardId, token) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  updateUserData(name, about, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._responseResult);\n  }\n\n  changeLikeCard(cardId, status, token) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: `${status ? \"PUT\" : \"DELETE\"}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._responseResult);\n  }\n\n  updateAvatar(link, token) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._responseResult);\n  }\n}\n\nconst api = new Api({\n  url:\n    process.env.NODE_ENV === \"production\"\n      ? process.env.REACT_APP_PROD_API_URL\n      : process.env.REACT_APP_DEV_API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","function ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={`popup__container popup__container_image ${\n        card.link && \"popup_opened\"\n      }`}\n    >\n      <figure className=\"popup__image\">\n        <button\n          className=\"popup__close-button popup__close-button_img\"\n          onClick={onClose}\n          type=\"button\"\n        ></button>\n        <img className=\"popup__images\" src={`${card.link}`} alt={card.name} />\n        <figcaption className=\"popup__text\">{card.name}</figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  isOpen,\n  name,\n  onSubmit,\n  onClose,\n  title,\n  children,\n  submitText,\n}) {\n  return (\n    <div className={`popup__container ${isOpen && \"popup_opened\"}`} id={name}>\n      <form onSubmit={onSubmit} className=\"popup__form\" name={name} noValidate>\n        <button\n          className=\"popup__close-button\"\n          onClick={onClose}\n          type=\"button\"\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button className=\"popup__button\" type=\"submit\">\n          {submitText}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"image_add\"\n      title=\"Новое место\"\n      submitText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          type=\"text\"\n          className=\"popup__input popup__input_type_name-image\"\n          id=\"image-name-input\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          onChange={handleChangeName}\n          value={name || \"\"}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"image-name-input-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          type=\"url\"\n          className=\"popup__input popup__input_type_prof-link\"\n          id=\"image-source-input\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          onChange={handleChangeLink}\n          value={link || \"\"}\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"image-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({ name, about: description });\n  }\n\n  React.useEffect(() => {\n    if (isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    } // eslint-disable-next-line\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"form\"\n      title=\"Редактировать профиль\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"profile-name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleChangeName}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-name-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_prof\"\n          type=\"text\"\n          name=\"description\"\n          id=\"profile-prof\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleChangeDescription}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-prof-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const [avatar, setAvatar] = React.useState(\"\");\n\n  function handleChangeAvatar(e) {\n    setAvatar(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatar,\n    });\n  }\n\n  React.useEffect(() => {\n    setAvatar(\"\");\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar_add\"\n      title=\"Обновить аватар\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          type=\"url\"\n          className=\"popup__input popup__input_type_avatar-link\"\n          id=\"avatar-source-input\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          value={avatar || \"\"}\n          onChange={handleChangeAvatar}\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"avatar-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmPopup({ isOpen, onClose, card, onDelete }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      submitText=\"Да\"\n      name=\"confirm\"\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Union.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Union-1.1b6082f8.svg\";","import React from \"react\";\nimport union from \"../images/Union.svg\";\nimport icon from \"../images/Union-1.svg\";\n\nfunction InfoTooltip({ isOpen, onClose, successStyle }) {\n  const errorImg = {\n    backgroundImage: \"url(\" + union + \")\",\n  };\n  const successImg = {\n    backgroundImage: \"url(\" + icon + \")\",\n  };\n\n  return (\n    <div\n      className={isOpen ? \"popup__container popup_opened\" : \"popup__container\"}\n    >\n      <form className=\"popup__form\">\n        <button\n          onClick={onClose}\n          className=\"popup__close-button\"\n          type=\"button\"\n        />\n        <div\n          className=\"popup__image_login\"\n          style={successStyle ? successImg : errorImg}\n        />\n        <h2 className=\"popup__title popup__title_infotooltip\">\n          {successStyle\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h2>\n      </form>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Login({ onLogin, onLoginState }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const history = useHistory();\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    onLogin({ email, password })\n      .then(() => {\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  };\n\n  React.useEffect(() => {\n    onLoginState(false);\n  }, [onLoginState]);\n\n  return (\n    <>\n      <div className=\"popup__login\">\n        <form\n          className=\"popup__form popup__form_login\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <h1 className=\"popup__title popup__title_type-login\">Вход</h1>\n          <input\n            className=\"popup__input popup__input_type-login\"\n            autoComplete=\"off\"\n            type=\"text\"\n            id=\"input-name\"\n            required\n            placeholder=\"Email\"\n            name=\"email\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={email || \"\"}\n            onChange={handleEmailChange}\n          />\n          <span className=\"popup__span-error\" id=\"input-name-error\" />\n          <input\n            className=\"popup__form-input popup__input_type-login\"\n            autoComplete=\"off\"\n            type=\"password\"\n            id=\"input-profession\"\n            required\n            placeholder=\"Пароль\"\n            name=\"password\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={password || \"\"}\n            onChange={handlePasswordChange}\n          />\n          <span className=\"popup__span-error\" id=\"input-profession-error\" />\n          <button className=\"popup__button popup__button_login\">Войти</button>\n          <p className=\"login__text\">\n            Ещё не зарегистрированы?\n            <Link to=\"/sign-up\" className=\"login__link\">\n              {\" \"}\n              Регистрация\n            </Link>\n          </p>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ onRegister, onLoginState }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister({ email, password });\n  };\n\n  React.useEffect(() => {\n    onLoginState(true);\n  }, [onLoginState]);\n\n  return (\n    <>\n      <div className=\"popup__login\">\n        <form\n          className=\"popup__form popup__form_login\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <h1 className=\"popup__title popup__title_type-login\">Регистрация</h1>\n          <input\n            className=\"popup__input popup__input_type-login\"\n            autoComplete=\"off\"\n            type=\"text\"\n            id=\"input-name\"\n            required\n            placeholder=\"Email\"\n            name=\"email\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={email || \"\"}\n            onChange={handleEmailChange}\n          />\n          <span className=\"popup__span-error\" id=\"input-name-error\" />\n          <input\n            className=\"popup__input popup__input_type-login\"\n            autoComplete=\"off\"\n            type=\"password\"\n            id=\"input-profession\"\n            required\n            placeholder=\"Пароль\"\n            name=\"password\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={password || \"\"}\n            onChange={handlePasswordChange}\n          />\n          <span className=\"popup__span-error\" id=\"input-profession-error\" />\n          <button className=\"popup__button popup__button_login\">\n            Зарегистрироваться\n          </button>\n          <p className=\"login__text\">\n            Уже зарегистрированы?\n            <Link to=\"sign-in\" className=\"login__link\">\n              {\" \"}\n              Войти\n            </Link>\n          </p>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export const BASE_URL =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_PROD_API_URL\n    : process.env.REACT_APP_DEV_API_URL;\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      if (res.status !== 409 && res.status !== 400) {\n        return res.json();\n      } else {\n        throw new Error(\"Некорректно заполнено одно из полей\");\n      }\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => {\n      return Promise.reject(err);\n    });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        return res.json();\n      }\n      if (res.status === 400) {\n        throw new Error(\"Не передано одно из полей\");\n      }\n      if (res.status === 401) {\n        throw new Error(\"Пользователь с email не найден\");\n      }\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n      return;\n    })\n    .catch((err) => {\n      return Promise.reject(err);\n    });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        return res.json();\n      }\n      if (res.status === 400) {\n        throw new Error(\"Токен не передан или передан не в том формате\");\n      }\n      if (res.status === 401) {\n        throw new Error(\"Переданный токен некорректен\");\n      }\n    })\n    .then((data) => {\n      return data;\n    })\n    .catch((err) => {\n      return Promise.reject(err);\n    });\n};\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport * as auth from \"../utils/auth.js\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [loginState, setLoginState] = React.useState(false);\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n  const [successToolTip, setSuccessToolTip] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isCardSelected, setIsCardSelected] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const history = useHistory();\n  const [dataImage, setDataImage] = React.useState({});\n  const setImage = (card) => {\n    setDataImage(card);\n    handleCardClick();\n  };\n\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      const jwt = localStorage.getItem(\"jwt\");\n      Promise.all([api.getUserData(jwt), api.getInitialCards(jwt)])\n        .then(([user, cards]) => {\n          setCurrentUser(user);\n          setCards(cards);\n        })\n        .catch((err) => {\n          throw new Error(\"Что-то пошло не так\");\n        });\n    }\n  }, [loggedIn]);\n\n  function handleCardClick() {\n    setIsCardSelected(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddCardPopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleTooltipOpen() {\n    setIsTooltipOpen(true);\n  }\n\n  function handleConfirmDeleteClick() {\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleSuccessToolTip() {\n    setSuccessToolTip(true);\n  }\n\n  function handleLoginState(state) {\n    setLoginState(state);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setDataImage({});\n    setSuccessToolTip(false);\n    setIsTooltipOpen(false);\n    setIsCardSelected(false);\n  }\n\n  function handleUpdateUser(user) {\n    api\n      .updateUserData(user.name, user.about, localStorage.getItem(\"jwt\"))\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  }\n\n  function handleUpdateAvatar(user) {\n    api\n      .updateAvatar(user.avatar, localStorage.getItem(\"jwt\"))\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    api\n      .changeLikeCard(card._id, !isLiked, localStorage.getItem(\"jwt\"))\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  }\n\n  function handleCardDelete(card) {\n    setCardDelete(card);\n    handleConfirmDeleteClick();\n  }\n\n  function handleConfirmDelete(card) {\n    api\n      .deleteCard(card._id, localStorage.getItem(\"jwt\"))\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .addNewCard(card.name, card.link, localStorage.getItem(\"jwt\"))\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        throw new Error(\"Что-то пошло не так\");\n      });\n  }\n\n  function handleLogin({ email, password }) {\n    return auth\n      .authorize(email, password)\n      .then((res) => {\n        if (res && res.token) {\n          localStorage.setItem(\"jwt\", res.token);\n          setLoggedIn(true);\n          history.push(\"/\");\n        } else {\n          throw new Error(\"Не удалось войти в аккаунт\");\n        }\n      })\n      .catch((err) => {\n        handleTooltipOpen();\n      });\n  }\n\n  function handleRegister({ email, password }) {\n    return auth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          handleSuccessToolTip();\n          setTimeout(handleTooltipOpen, 500);\n          history.push(\"/sign-in\");\n        } else {\n          throw new Error(\"Не удалось завершить регистрацию\");\n        }\n      })\n      .catch((err) => {\n        handleTooltipOpen();\n      });\n  }\n\n  function signOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setUserData({\n              id: res._id,\n              email: res.email,\n            });\n            setLoggedIn(true);\n            history.push(\"/\");\n          } else {\n            localStorage.removeItem(\"jwt\");\n          }\n        })\n        .catch((err) => {\n          history.push(\"/sign-in\");\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loggedIn]);\n\n  return (\n    <div className=\"container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedIn}\n          loginState={loginState}\n          onSignOut={signOut}\n          userData={userData}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            onCardClick={handleCardClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            clickImages={setImage}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register\n              onRegister={handleRegister}\n              onLoginState={handleLoginState}\n              openToolTip={handleTooltipOpen}\n              successToolTip={handleSuccessToolTip}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login\n              onLogin={handleLogin}\n              onLoginState={handleLoginState}\n              successToolTip={handleSuccessToolTip}\n            />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        ></EditAvatarPopup>\n\n        <ConfirmPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onDelete={handleConfirmDelete}\n          card={cardDelete}\n        />\n\n        <ImagePopup\n          card={dataImage}\n          isOpen={isCardSelected}\n          onClose={closeAllPopups}\n        />\n        <InfoTooltip\n          isOpen={isTooltipOpen}\n          onClose={closeAllPopups}\n          successStyle={successToolTip}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"../src/components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}